<main class="">
  <app-navbar />
  <section class="w-5/6 mx-auto mt-4 py-8 bg-white rounded-lg p-4">
    <h2 class="mb-3 font-bold text-3xl text-center">Crie sua conta</h2>
    <form [formGroup]="signUpForm" (ngSubmit)="submitSignup()">
      <article class="w-full">
        <div class="max-w-[860px] mx-auto flex flex-col my-3">
          <app-label name="username" description="Nome de Usuário" [required]="true" />
          <input
            pInputText
            id="username"
            aria-describedby="username"
            formControlName="username"
            [ngClass]="signUpForm.controls['username'].valid ? '  ' : ' ng-invalid ng-dirty '"
          />
          @if(!signUpForm.controls['username'].valid && signUpForm.controls['username'].dirty){
            <p class="mt-1 text-red-500">Mínimo 5 Caractéres</p>
          }
        </div>

        <div class="max-w-[860px] mx-auto flex flex-col my-3">
          <app-label name="email" description="E-mail" [required]="true" />
          <input
            pInputText
            id="email"
            aria-describedby="email"
            formControlName="email"
            [ngClass]="signUpForm.controls['email'].valid ? '  ' : ' ng-invalid ng-dirty '"
          />
          @if(!signUpForm.controls['email'].valid && signUpForm.controls['email'].dirty){
            <p class="mt-1 text-red-500">E-mail Inválido</p>
          }
        </div>

        <div class="max-w-[860px] mx-auto flex flex-col my-3">
          <app-label name="password" description="Senha" [required]="true" />
          <p-password
            [toggleMask]="true"
            [feedback]="false"
            id="password"
            aria-describedby="user password"
            formControlName="password"
            fluid
            [ngClass]="signUpForm.controls['password'].valid ? '  ' : ' ng-invalid ng-dirty '"
          />
          @if(!signUpForm.controls['password'].valid && signUpForm.controls['password'].dirty){
            <p class="mt-1 text-red-500">Mínimo 5 Caractéres</p>
          }
        </div>

        <div class="max-w-[860px] mx-auto flex flex-col my-3">
          <app-label name="confirmpassword" description="Confirmar Senha" [required]="true" />
          <p-password
            [toggleMask]="true"
            [feedback]="false"
            id="confirmpassword"
            aria-describedby="confirm password"
            formControlName="confirmpassword"
            fluid
            [ngClass]="signUpForm.controls['confirmpassword'].valid ? '  ' : ' ng-invalid ng-dirty '"
          />
          @if(signUpForm.controls['confirmpassword'].dirty && signUpForm.hasError("PasswordNoMatch") ){
            <p class="mt-1 text-red-500">As senhas não coincidem</p>
          }
        </div>

        <div class="max-w-[860px] mx-auto">
          <button
            pButton
            icon="pi pi-user"
            label="Cadastrar"
            class="w-full"
            type="submit"
          ></button>
        </div>
      </article>
    </form>
  </section>
</main>
